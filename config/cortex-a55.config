# Cortex-A55 configuration (RK3566 devices)
# Target devices: Miyoo Flip, RGB30, RG353 (~15% market share)

# Architecture
ARCH := aarch64
TARGET_CROSS := aarch64-linux-gnu-
GNU_TARGET_NAME := aarch64-buildroot-linux-gnu

# CPU-specific flags
TARGET_CPU := cortex-a55
TARGET_ARCH := armv8.2-a+crc+crypto+dotprod
# No -mno-outline-atomics for ARMv8.2-a (enable LSE atomics for better performance)
TARGET_OPTIMIZATION := -march=$(TARGET_ARCH) -mcpu=$(TARGET_CPU) -mtune=$(TARGET_CPU)

# Compiler flags
TARGET_CFLAGS := -O2 -pipe -fsigned-char $(TARGET_OPTIMIZATION)
TARGET_CXXFLAGS := $(TARGET_CFLAGS)
TARGET_LDFLAGS := $(TARGET_OPTIMIZATION)

# Buildroot-style variables
BR2_aarch64 := y
BR2_cortex_a55 := y
BR2_ARM_FPU_NEON_FP_ARMV8 := y
BR2_TOOLCHAIN_USES_GLIBC := y

export ARCH TARGET_CROSS TARGET_CFLAGS TARGET_CXXFLAGS TARGET_LDFLAGS
export BR2_aarch64 BR2_cortex_a55
